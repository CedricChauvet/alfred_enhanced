# ============================================================================
# ReAct-Light Training Configuration v2 - Simplified
# Only uses arguments already supported by train_seq2seq.py
# ============================================================================

# ============================================================================
# PATHS
# ============================================================================

data: data/full_2.1.0/json_feat_2.1.0
splits: data/splits/oct21.json
dout: experiments/react_light_v2_optimal

# ============================================================================
# MODEL
# ============================================================================

model: seq2seq_react_light
seed: 42

# ============================================================================
# TRAINING PARAMETERS (Standard ALFRED)
# ============================================================================

# Duration
epoch: 25
batch: 8

# Optimizer (standard Adam, pas AdamW pour l'instant)
lr: 0.0001

# Scheduler
decay_epoch: 5

# ============================================================================
# MODEL ARCHITECTURE
# ============================================================================

# Dimensions
dhid: 512
dframe: 2500
demb: 100

# Dropouts
vis_dropout: 0.3
lang_dropout: 0.0
input_dropout: 0.0
attn_dropout: 0.0
hstate_dropout: 0.0
actor_dropout: 0.0

# Decoder
pframe: 300
dec_teacher_forcing: true

# ============================================================================
# LOSS WEIGHTS (Standard ALFRED)
# ============================================================================

action_loss_wt: 1.0
mask_loss_wt: 1.0
subgoal_aux_loss_wt: 0.0
pm_aux_loss_wt: 0.0

# ============================================================================
# DATA
# ============================================================================

pp_folder: pp
dataset_fraction: 0
fast_epoch: false

# Ablations
zero_goal: false
zero_instr: false

# ============================================================================
# HARDWARE
# ============================================================================

gpu: true

# ============================================================================
# CHECKPOINTING
# ============================================================================

save_every_epoch: false

# ============================================================================
# NOTES
# ============================================================================

# Les paramètres CoT et ReAct sont définis par défaut dans le modèle:
# - use_cot: true (défaut dans seq2seq_cot.py)
# - use_react: true (défaut dans seq2seq_react_light.py)
# - max_subgoals: 5
# - max_replans: 3
# - replan_threshold: 0.3
# - loss weights: définis dans le code

name: react_light_v2_simplified
notes: |
  ReAct-Light Training v2 - Simplified Config
  
  Uses only standard ALFRED arguments.
  CoT/ReAct parameters are set as defaults in the model code.
  
  Expected results:
  - Valid seen SR: 30-40%
  - Training time: ~5-6 days